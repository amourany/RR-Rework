package view;

import javax.swing.ImageIcon;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.SpringLayout;
import javax.swing.BoxLayout;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;

import java.awt.Component;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import controller.Controller;

/**
 * View of the menu
 */
public class GameMenuView extends AbstractView{

	public GameMenuView(Controller c, JFrame f) {
		super(c, f); 
		buildContentPane();
	}

	public void buildContentPane() {	
		//Head
		JPanel head = new JPanel();
		ImageIcon icon =  new ImageIcon("code/images/banner.png");
		JLabel screenTitle = new JLabel(icon);
		head.add(screenTitle);

		//Body
		JPanel body = new JPanel();
		BoxLayout bodyLayout = new BoxLayout(body, 1);
		body.setLayout(bodyLayout);
		JButton bSolo =  new JButton("Start");
		bSolo.setAlignmentX(Component.CENTER_ALIGNMENT);
		JButton bMulti = new JButton("Multiplayer");
		bMulti.setAlignmentX(Component.CENTER_ALIGNMENT);
		JButton bHelp =  new JButton("Help");
		bHelp.setAlignmentX(Component.CENTER_ALIGNMENT);

		bSolo.addActionListener(new ActionListener() {			
			public void actionPerformed(ActionEvent e) {	
				controller.createOptionsView();				
			}
		});

		bMulti.addActionListener(new ActionListener() {			
			public void actionPerformed(ActionEvent e) {	
				controller.startMultiView();				
			}
		});

		bHelp.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent arg0) {
				controller.createHelpView();
			}
		});

		body.add(bSolo);
		body.add(bMulti);
		body.add(bHelp);


		//Foot
		JPanel foot = new JPanel();
		JButton about = new JButton("About");

		about.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent arg0) {
				JOptionPane.showMessageDialog(frame,
						"License : GNU GPL v3\n\n"+
								"Olivier Bra�k\n" +
								"Alexandre Delesse\n" +
								"Ga�tan Lussagnet\n" +
								"Alexandre Mourany\n" +
								"Dimitri Ranc",
								"v. 1.0",
								JOptionPane.INFORMATION_MESSAGE);
			}
		});	

		foot.add(about);
		
		SpringLayout layout = new SpringLayout();
		contentPane.setLayout(layout);

		contentPane.add(head);
		contentPane.add(body);
		contentPane.add(foot);

		layout.putConstraint(SpringLayout.HORIZONTAL_CENTER, head, 0, SpringLayout.HORIZONTAL_CENTER, contentPane);
		layout.putConstraint(SpringLayout.NORTH, head, 50, SpringLayout.NORTH, contentPane);

		layout.putConstraint(SpringLayout.VERTICAL_CENTER, body, 150, SpringLayout.SOUTH, head);
		layout.putConstraint(SpringLayout.HORIZONTAL_CENTER, body, 0, SpringLayout.HORIZONTAL_CENTER, contentPane);

		layout.putConstraint(SpringLayout.SOUTH, foot, 0, SpringLayout.SOUTH, contentPane);
		layout.putConstraint(SpringLayout.EAST, foot, 0, SpringLayout.EAST, contentPane);

		frame.pack();
	}
}
